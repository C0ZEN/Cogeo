<nav class="atom-navbar animated fadeInDown"
     ng-controller="NavbarCtrl as vm">

    <!-- Left -->
    <div class="atom-navbar-block left">

        <!-- Logo -->
        <img alt="Cogeo"
             class="brand"
             ng-click="goTo.view('app.home')"
             ng-src="images/brand/CogeoSampleSmallTransparent.png">

        <!-- Groups -->
        <div ng-show="vm.methods.isConnected()"
             class="link link-blue"
             onclick="this.blur()"
             ng-mouseenter="vm.group.hover = true"
             ng-mouseleave="vm.group.hover = false"
             ng-keydown="$event.keyCode == 13 ? vm.group.hover = !vm.group.hover : null"
             ng-click="vm.group.hover = true"
             tabindex="0">
            {{ 'navbar_groups' | translate }}
            <div class="link-dropdown dropdown-right"
                 ng-show="vm.group.hover">

                <!-- See all groups link -->
                <div class="link-dropdown-item"
                     ng-class="{'active': false}"
                     ng-click="goTo.view('app.groups.all')"
                     tabindex="0">
                    {{ 'navbar_groups_all' | translate }}
                </div>

                <!-- Group link -->
                <div ng-repeat="group in vm.groups track by $index"
                     class="link-dropdown-item"
                     ng-class="{'active': false}"
                     ng-click="goTo.view('app.groups.details', {groupName: group.name})"
                     ng-mouseenter="group.showChannels = true"
                     ng-mouseleave="group.showChannels = false"
                     tabindex="0">
                    <div class="img">
                        <img class="img-circle img-thumbnail"
                             ng-src="{{ methods.getGroupPicture(group.name) }}">
                    </div>
                    <span>{{ group.name }}</span>

                    <!-- Channels -->
                    <div ng-show="group.showChannels && group.channels.length > 0"
                         class="sub-links">
                        <div ng-repeat="channel in group.channels track by $index"
                             class="link-dropdown-item"
                             ng-click="$event.stopPropagation(); goTo.view('app.channels.details', {groupName: group.name, channelName: channel.name})"
                             tabindex="0">
                            <div class="img">
                                <img class="img-circle img-thumbnail"
                                     ng-src="{{ methods.getChannelPicture(group.name, channel.id) }}">
                            </div>
                            <span>{{ channel.name }}</span>
                        </div>
                    </div>
                </div>

                <!-- Add group link -->
                <div class="link-dropdown-separator"></div>
                <div class="link-dropdown-item"
                     ng-class="{'active': false}"
                     ng-click="goTo.view('app.groupNew.firstStep')"
                     tabindex="0">
                    <i class="fa fa-fw fa-plus space-small-right"></i>
                    {{ 'navbar_groups_add' | translate }}
                </div>
            </div>
        </div>
    </div>

    <!-- Right -->
    <div class="atom-navbar-block right">

        <!-- Product -->
        <div ng-show="goTo.isCurrentView('app.home')"
             class="link link-blue"
             onclick="this.blur()"
             ng-click="vm.methods.scrollToElement('communication')"
             tabindex="0">
            {{ 'navbar_product' | translate }}
        </div>

        <!-- Price -->
        <div ng-show="goTo.isCurrentView('app.home')"
             class="link link-blue"
             onclick="this.blur()"
             ng-click="vm.methods.scrollToElement('register')"
             tabindex="0">
            {{ 'navbar_price' | translate }}
        </div>

        <!-- Login -->
        <div ng-show="!vm.methods.isConnected()"
             class="link link-green"
             ng-class="{'active': goTo.isCurrentView('app.log.login')}"
             onclick="this.blur()"
             ng-click="goTo.view('app.log.login')"
             tabindex="0">
            {{ 'navbar_login' | translate }}
        </div>

        <!-- Register -->
        <div ng-show="!vm.methods.isConnected()"
             class="link link-purple"
             ng-class="{'active': goTo.isCurrentView('app.log.register')}"
             onclick="this.blur()"
             ng-click="goTo.view('app.log.register')"
             tabindex="0">
            {{ 'navbar_register' | translate }}
        </div>

        <!-- Logout -->
        <div ng-show="vm.methods.isConnected()"
             class="link link-yellow"
             onclick="this.blur()"
             ng-click="methods.showPopup($event, 'logout')"
             tabindex="0">
            {{ 'navbar_logout' | translate }}
        </div>

        <!-- Other -->
        <div ng-show="vm.methods.isConnected()"
             class="link link-blue"
             onclick="this.blur()"
             ng-mouseenter="vm.other.hover = true"
             ng-mouseleave="vm.other.hover = false"
             ng-keydown="$event.keyCode == 13 ? vm.other.hover = !vm.other.hover : null"
             ng-click="vm.other.hover = true"
             ng-class="{'active': goTo.hasThisParent('app.account')}"
             tabindex="0">
            {{ 'navbar_other' | translate }}
            <div class="link-dropdown"
                 ng-show="vm.other.hover">
                <div class="link-dropdown-item"
                     ng-class="{'active': goTo.isOneOfThoseViews('app.account.profile', 'app.account.profileEdit', 'app.account.profileEditPassword')}"
                     ng-click="goTo.view('app.account.profile')"
                     tabindex="0">
                    {{ 'navbar_other_profile' | translate }}
                </div>
                <div class="link-dropdown-item"
                     ng-class="{'active': goTo.isOneOfThoseViews('app.account.notifications', 'app.account.notificationsEdit')}"
                     ng-click="goTo.view('app.account.notifications')"
                     tabindex="0">
                    {{ 'navbar_other_notifications' | translate }}
                </div>
                <div class="link-dropdown-item"
                     ng-class="{'active': goTo.isOneOfThoseViews('app.account.settings', 'app.account.settingsEdit')}"
                     ng-click="goTo.view('app.account.settings')"
                     tabindex="0">
                    {{ 'navbar_other_settings' | translate }}
                </div>
                <div class="link-dropdown-item"
                     ng-class="{'active': goTo.isOneOfThoseViews('app.account.log')}"
                     ng-click="goTo.view('app.account.log')"
                     tabindex="0">
                    {{ 'navbar_other_log' | translate }}
                </div>
                <div class="link-dropdown-item"
                     ng-class="{'active': goTo.isOneOfThoseViews('app.account.logins')}"
                     ng-click="goTo.view('app.account.logins')"
                     tabindex="0">
                    {{ 'navbar_other_logins' | translate }}
                </div>
            </div>
        </div>
    </div>
</nav>
